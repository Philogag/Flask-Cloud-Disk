<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <title>个人中心</title>
    <link rel="stylesheet" href="static/layui/css/layui.css">
    <link rel="stylesheet" href="static/css/style.css" media="all">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>


<body>
    <header class="layui-bg-black">
        <div>个人中心</div>
        <ul class="layui-nav" lay-filter="">

            <li class="layui-nav-item">
                <a href="javascript:;">user</a>
                <dl class="layui-nav-child">
                    <!-- 二级菜单 -->
                    <dd><a href="">个人中心</a></dd>
                    <dd><a href="login">退出</a></dd>
                </dl>
            </li>
        </ul>
    </header>

    <!--主体-->
    <div class="main">
        <!--        左侧导航-->
        <div class="left layui-bg-black">
            <ul class="layui-nav layui-nav-tree" lay-filter="test">
                <!-- 侧边导航: <ul class="layui-nav layui-nav-tree layui-nav-side"> -->
                <li class="layui-nav-item layui-nav-itemed">
                    <a href="javascript:;">全部文件</a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;">选项1</a></dd>
                        <dd><a href="javascript:;">选项2</a></dd>
                        <dd><a href="">跳转</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">文件夹</a>
                    <dl class="layui-nav-child">
                        <dd><a href="">1</a></dd>
                        <dd><a href="">2</a></dd>
                        <dd><a href="">3</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item"><a href="">4</a></li>
                <li class="layui-nav-item"><a href="">5</a></li>
            </ul>
        </div>

        <!--    右侧主体内容-->
        <div class="right">
            <!--        面包屑导航-->
            <div class="breadcrumb">
                <span class="layui-breadcrumb">
                    <a href="">a</a>
                    <a href="">b</a>
                    <a href="">c</a>
                    <a><cite>d</cite></a>
                </span>
            </div>

            <!--        表单相关-->
            <div class="my-input-g layui-form">


                <!--时间选择-->
                <div class="my-input">
                    <input type="text" class="layui-input" id="data" placeholder="选择时间">
                </div>
                <!-- 按钮-->
                <div class="my-input">
                    <button type="button" class="layui-btn layui-btn-radius layui-btn-normal">
                        <i class="layui-icon">&#xe615;</i> 搜索
                    </button>


                    <div id="layerDemo" style="margin-bottom: 0;">
                        <div class="layui-btn-container" style="margin-top: 30px;">
                            <button data-method="setTop" class="layui-btn">分享</button>
                        </div>
                    </div>

                </div>

            </div>



            <!-- 文件 -->
            <table class="layui-hide" id="test" lay-filter="test"></table>

            <script type="text/html" id="toolbarDemo">
          <div class="layui-btn-container">
            <button class="layui-btn layui-btn-sm" lay-event="getCheckData">获取选中行数据</button>
            <button class="layui-btn layui-btn-sm" lay-event="getCheckLength">获取选中数目</button>
            <button class="layui-btn layui-btn-sm" lay-event="isAll">验证是否全选</button>
          </div>
        </script>

            <script type="text/html" id="barDemo">
          <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
          <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
        </script>


            <script src="static/layui/layui.js" charset="utf-8"></script>
            <!-- 注意：如果你直接复制所有代码到本地，上述 JS 路径需要改成你本地的 -->

            <script>
                layui.use('table', function () {
                    var table = layui.table;

                    table.render({
                        elem: '#test'
                        , url: 'demo1.json'
                        , toolbar: '#toolbarDemo' //开启头部工具栏，并为其绑定左侧模板
                        , defaultToolbar: ['filter', 'exports', 'print', { //自定义头部工具栏右侧图标。如无需自定义，去除该参数即可
                            title: '提示'
                            , layEvent: 'LAYTABLE_TIPS'
                            , icon: 'layui-icon-tips'
                        }]
                        , title: '用户数据表'
                        , cols: [[
                            { type: 'checkbox', fixed: 'left' }
                            , { field: 'id', title: '文件', width: 80, fixed: 'left', unresize: true, sort: true }
                            , { field: 'username', title: '用户名', width: 120, edit: 'text' }
                            , {
                                field: 'email', title: '邮箱', width: 150, edit: 'text', templet: function (res) {
                                    return '<em>' + res.email + '</em>'
                                }
                            }
                            , { field: 'ip', title: 'IP', width: 120 }
                            , { field: 'logins', title: '登入次数', width: 100, sort: true }
                            , { field: 'joinTime', title: '加入时间', width: 120 }
                            , { fixed: 'right', title: '操作', toolbar: '#barDemo', width: 150 }
                        ]]
                        , page: true
                    });

                    //头工具栏事件
                    table.on('toolbar(test)', function (obj) {
                        var checkStatus = table.checkStatus(obj.config.id);
                        switch (obj.event) {
                            case 'getCheckData':
                                var data = checkStatus.data;
                                layer.alert(JSON.stringify(data));
                                break;
                            case 'getCheckLength':
                                var data = checkStatus.data;
                                layer.msg('选中了：' + data.length + ' 个');
                                break;
                            case 'isAll':
                                layer.msg(checkStatus.isAll ? '全选' : '未全选');
                                break;

                            //自定义头工具栏右侧图标 - 提示
                            case 'LAYTABLE_TIPS':
                                layer.alert('这是工具栏右侧自定义的一个图标按钮');
                                break;
                        };
                    });

                    //监听行工具事件
                    table.on('tool(test)', function (obj) {
                        var data = obj.data;
                        //console.log(obj)
                        if (obj.event === 'del') {
                            layer.confirm('真的删除行么', function (index) {
                                obj.del();
                                layer.close(index);
                            });
                        } else if (obj.event === 'edit') {
                            layer.prompt({
                                formType: 2
                                , value: data.email
                            }, function (value, index) {
                                obj.update({
                                    email: value
                                });
                                layer.close(index);
                            });
                        }
                    });
                });
            </script>



            <!--        分页-->
            <div id="myPage">

            </div>
        </div>
    </div>

</body>




<!-- 文件 -->




<script src="static/layui/layui.js" charset="utf-8"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述 JS 路径需要改成你本地的 -->
<script>
    layui.use('layer', function () { //独立版的layer无需执行这一句
        var $ = layui.jquery, layer = layui.layer; //独立版的layer无需执行这一句

        //触发事件
        var active = {
            setTop: function () {
                var that = this;
                //多窗口模式，层叠置顶
                layer.open({
                    type: 1 //此处以iframe举例
                    , title: '分享'
                    , id: 'LAY_layuipro' //设定一个id，防止重复弹出
                    , area: ['600px', '460px']
                    , shade: 0
                    , maxmin: true
                    , offset: 'auto'
                    , content: '<div style="padding: 15px;">分享链接：' + new Date().getTime() + '分享</div>'

                    , btn: ['分享', '退出'] //只是为了演示
                    , yes: function () {
                        $(that).click();
                    }
                    , btn2: function () {
                        layer.closeAll();
                    }

                    , zIndex: layer.zIndex //重点1
                    , success: function (layero, index) {
                        layer.setTop(layero); //重点2. 保持选中窗口置顶

                        //记录索引，以便按 esc 键关闭。事件见代码最末尾处。
                        layer.escIndex = layer.escIndex || [];
                        layer.escIndex.unshift(index);
                        //选中当前层时，将当前层索引放置在首位
                        layero.on('mousedown', function () {
                            var _index = layer.escIndex.indexOf(index);
                            if (_index !== -1) {
                                layer.escIndex.splice(_index, 1); //删除原有索引
                            }
                            layer.escIndex.unshift(index); //将索引插入到数组首位
                        });
                    }
                    , end: function () {
                        //更新索引
                        if (typeof layer.escIndex === 'object') {
                            layer.escIndex.splice(0, 1);
                        }
                    }
                });
            }


            , offset: function (othis) {
                var type = othis.data('type')
                    , text = othis.text();

                layer.open({
                    type: 1
                    , offset: type //具体配置参考：http://www.layui.com/doc/modules/layer.html#offset
                    , id: 'layerDemo' + type //防止重复弹出
                    , content: '<div style="padding: 20px 100px;">' + text + '</div>'
                    , btn: '退出'
                    , btnAlign: 'c' //按钮居中
                    , shade: 0 //不显示遮罩
                    , yes: function () {
                        layer.closeAll();
                    }
                });
            }
        };

        $('#layerDemo .layui-btn').on('click', function () {
            var othis = $(this), method = othis.data('method');
            active[method] ? active[method].call(this, othis) : '';
        });


        //多窗口模式 - esc 键
        $(document).on('keyup', function (e) {
            if (e.keyCode === 27) {
                layer.close(layer.escIndex ? layer.escIndex[0] : 0);
            }
        });
    });
</script>






</html>